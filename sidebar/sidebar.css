/* ... :root and body.dark-theme color variables (no changes needed here) ... */
:root {
  --primary-bg: #ffffff; --secondary-bg: #f4f4f9; --text-color: #242424; --text-secondary-color: #555; --border-color: #ddd; --primary-btn-bg: #007bff; --primary-btn-text: #fff; --danger-btn-bg: #dc3545; --warning-btn-bg: #ffc107; --tag-bg: #e0e0e0; --tag-text: #333; --success-btn-bg: #28a745;
}
body.dark-theme {
  --primary-bg: #2b2b2b; --secondary-bg: #3c3c3c; --text-color: #f1f1f1; --text-secondary-color: #aaa; --border-color: #555; --primary-btn-bg: #0d6efd; --danger-btn-bg: #dc3545; --warning-btn-bg: #ffc107; --tag-bg: #555; --tag-text: #f1f1f1; --success-btn-bg: #28a745;
}

/* --- GENERAL STYLES --- */
body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: var(--primary-bg); color: var(--text-color); margin: 0; padding: 12px; display: flex; flex-direction: column; height: 100vh; box-sizing: border-box; transition: background-color 0.2s, color 0.2s; }
h1 { font-size: 1.2em; margin: 0; text-align: center; }
button { padding: 8px 12px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; font-size: 14px; }
input, textarea, select { padding: 8px; border: 1px solid var(--border-color); border-radius: 4px; background-color: var(--secondary-bg); color: var(--text-color); width: 100%; box-sizing: border-box; font-size: 14px; }
.hidden { display: none !important; }

/* --- TOP CONTROL BLOCK --- */
.main-controls { display: flex; flex-direction: column; gap: 12px; margin-bottom: 12px; }
.main-controls h1 { font-size: 1.2em; }
.actions-group { display: flex; gap: 8px; align-items: center; } /* Added align-items */
.actions-group input[type="search"] { flex-grow: 1; }

/* --- NEW STYLES FOR ICON BUTTONS --- */
.icon-btn {
  padding: 6px; /* Adjust padding for smaller size */
  line-height: 0; /* Helps align SVG vertically */
  width: 34px; /* Make it squarish */
  height: 34px;
  background-color: var(--secondary-bg); /* Subtle background */
  border: 1px solid var(--border-color);
}
.icon-btn svg {
  fill: var(--text-color); /* Use text color for the icon */
  width: 18px; /* SVG size */
  height: 18px;
  vertical-align: middle;
}
.icon-btn:hover {
  background-color: var(--border-color); /* Slight hover effect */
}
/* --- END NEW ICON BUTTON STYLES --- */

.folders-section { display: flex; gap: 8px; align-items: center; }
.folder-filter { display: flex; gap: 8px; align-items: center; flex-grow: 1; }
.folder-filter label { font-size: 0.9em; white-space: nowrap; }
.add-folder-form { display: flex; gap: 8px; }
.add-folder-form input { min-width: 120px; }
.add-folder-form button { flex-shrink: 0; background-color: var(--success-btn-bg); color: white; width: 38px; }

/* --- COLLAPSIBLE FORM STYLES --- */
.add-form-container { margin-bottom: 16px; background-color: var(--secondary-bg); border: 1px solid var(--border-color); border-radius: 5px; }
.form-toggle-btn { width: 100%; text-align: left; background: none; border: none; padding: 12px; font-size: 1.1em; color: var(--text-secondary-color); font-weight: bold; }
.form-toggle-btn::after { content: 'â–¼'; float: right; transition: transform 0.2s; font-size: 0.8em; }
.form-toggle-btn.is-open::after { transform: rotate(180deg); }
.add-form { padding: 0 12px 12px 12px; display: flex; flex-direction: column; }
.form-content { display: flex; flex-direction: column; gap: 12px; }
.form-field { display: flex; flex-direction: column; gap: 4px; }
.form-field label { font-weight: bold; font-size: 0.9em; margin-left: 2px; }
.form-buttons { display: flex; gap: 8px; margin-top: 8px; }
.form-buttons button { flex: 1; background-color: var(--primary-btn-bg); color: var(--primary-btn-text); }
.form-buttons #cancel-edit-btn { background-color: #6c757d; }

/* --- PROMPT LIST STYLES --- */
#prompts-list-container { flex-grow: 1; overflow-y: auto; }
.prompt-item { display: flex; flex-direction: column; padding: 12px; border: 1px solid var(--border-color); border-radius: 5px; background: var(--secondary-bg); margin-bottom: 10px; gap: 8px; }
.prompt-title { font-weight: bold; font-size: 1.1em; margin: 0; }
.prompt-text { white-space: pre-wrap; word-wrap: break-word; color: var(--text-secondary-color); }
.prompt-tags { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 4px; }
.tag-item { color: var(--tag-text); padding: 2px 8px; border-radius: 12px; font-size: 0.8em; }
.prompt-actions { display: flex; gap: 8px; align-self: flex-end; margin-top: 8px; }
.prompt-actions button { padding: 5px 10px; font-size: 13px; }
.prompt-actions .copy-btn { background-color: var(--success-btn-bg); color: var(--primary-btn-text); }
.prompt-actions .edit-btn { background-color: var(--warning-btn-bg); color: var(--text-color); }
.prompt-actions .delete-btn { background-color: var(--danger-btn-bg); color: var(--primary-btn-text); }