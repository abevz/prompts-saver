<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="sidebar.css">
    <title>Prompts Saver</title>
</head>

<body>
    <svg width="0" height="0" style="position:absolute; visibility: hidden;">
        <defs>
            <linearGradient id="sharedIconGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" style="stop-color:#4A90E2;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#0071C5;stop-opacity:1" />
            </linearGradient>
            <filter id="sharedIconDropShadow" x="-20%" y="-20%" width="140%" height="140%">
                <feGaussianBlur in="SourceAlpha" stdDeviation="1" />
                <feOffset dx="1" dy="1" result="offsetblur" />
                <feComponentTransfer>
                    <feFuncA type="linear" slope="0.5" />
                </feComponentTransfer>
                <feMerge>
                    <feMergeNode />
                    <feMergeNode in="SourceGraphic" />
                </feMerge>
            </filter>
        </defs>
    </svg>

<header class="main-controls">
        <h1>Prompts Saver</h1>
        <div class="actions-group">
            <input type="search" id="search-input" placeholder="Search...">
            <button id="toggle-tag-filter-btn" class="icon-btn" title="Filter by Tags">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18px" height="18px">
                    <path d="M0 0h24v24H0z" fill="none"/>
                    <path d="M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z" fill="url(#sharedIconGradient)" filter="url(#sharedIconDropShadow)"/>
                </svg>
            </button>
        </div>

        <div id="tag-filter-container" class="tag-filter-container hidden">
            <h4>Filter by Tags (shows prompts with ALL selected tags)</h4>
            <input type="text" id="tag-search-input" placeholder="Search tags..." class="tag-search-input">
            <div id="tag-filter-list" class="tag-filter-list">
                </div>
            <button id="clear-tag-filter-btn">Clear Tag Filters</button>
        </div>
        <div class="folder-filter-container">
            <div class="folder-filter">
                 <span class="folder-icon" title="Filter by folder">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="18px" height="18px">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/>
                    </svg>
                </span>
                <select id="folder-filter-select"></select>
            </div>
        </div>
    </header>
    

    <section class="add-form-container">
        <button type="button" id="toggle-form-btn" class="form-toggle-btn">Add New Prompt</button>
        <form id="add-prompt-form" class="add-form hidden">
            <div class="form-content">
                <div class="form-field">
                    <label for="prompt-title-input">Title</label>
                    <input type="text" id="prompt-title-input" required>
                </div>
                <div class="form-field">
                    <label for="prompt-text-textarea">Prompt Text</label>
                    <textarea id="prompt-text-textarea" rows="4" required></textarea>
                </div>
                <div class="form-field">
                    <label for="prompt-tags-input">Tags (comma-separated)</label>
                    <input type="text" id="prompt-tags-input">
                </div>
                <div class="form-field">
                    <label for="prompt-folder-select">Save to folder</label>
                    <select id="prompt-folder-select"></select>
                </div>
                <div class="form-buttons">
                    <button type="submit" id="save-btn">Save</button>
                    <button type="button" id="cancel-edit-btn" class="hidden">Cancel</button>
                </div>
            </div>
        </form>
    </section>

    <div id="prompts-list-container"></div>
    <script src="sidebar.js"></script>
</body>

</html>